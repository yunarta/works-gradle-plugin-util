plugins {
    id 'java'
    id 'jacoco'
    id 'com.mobilesolutionworks.gradle.basic'
}

repositories {
    jcenter()
}

jacoco {
    toolVersion = "0.8.1"
}

dependencies {
    testCompile 'junit:junit:4.12'
}

tasks.withType(Test) {
    doFirst {
        logger.quiet("Test JVM Arguments")
        allJvmArgs.each {
            logger.quiet(" ${it}")
        }
        file("$rootDir/jvmargs.log").write(allJvmArgs.join(System.lineSeparator()))
        logger.quiet("jacoco.enabled = ${jacoco.enabled}")
    }
}
